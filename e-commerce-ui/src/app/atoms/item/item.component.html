<div class="card border border-default/50 shadow-md overflow-hidden">
  <!-- Image section with fallback -->
  <figure class="h-48 bg-base-200 relative overflow-hidden">
    <img
      (error)="onImageError($event)"
      [alt]="item.productName"
      [src]="item.imageUrl || getPlaceholderImage()"
      class="object-cover w-full h-full transition-transform hover:scale-105"
    />
    <div class="absolute top-2 right-2">
      <div class="badge badge-info badge-outline">{{ item.category }}</div>
    </div>
  </figure>

  <div class="card-body p-4">
    <h2 class="card-title text-lg">{{ item.productName }}</h2>

    <!-- Price and quantity row -->
    <div class="flex justify-between items-center mt-2">
      <div class="flex items-baseline gap-1">
        <span class="text-lg font-bold text-primary">${{ item.price.toFixed(2) }}</span>
        <span class="text-xs opacity-70">per unit</span>
      </div>
      <div [class.badge-error]="item.quantity === 0" [class.badge-success]="item.quantity > 10"
           [class.badge-warning]="item.quantity <= 10 && item.quantity > 0" class="badge">
        {{ item.quantity > 0 ? 'In Stock: ' + item.quantity : 'Out of Stock' }}
      </div>
    </div>

    <!-- Action buttons -->
    <div class="card-actions justify-between mt-4">
      <button class="btn btn-primary btn-sm">
        <span class="icon-[bx--info-circle] mr-1"></span>
        Details
      </button>
      <button (click)="addToCart()" [disabled]="item.quantity === 0" class="btn btn-outline btn-sm">
                <app-cart-add-icon></app-cart-add-icon>
                Add to Cart
            </button>
        </div>
    </div>
</div>
